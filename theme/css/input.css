@import "tailwindcss";
@plugin "@tailwindcss/typography";

@source "../../docs";
@source "../main.html";
@source "../404.html";

/* Use class-based dark mode (.dark on <html>) instead of prefers-color-scheme */
@variant dark (&:where(.dark, .dark *));

@theme {
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-serif: "Merriweather", ui-serif, Georgia, serif;
  --font-mono: "JetBrains Mono", ui-monospace, monospace;
}

/* Base styles */
body {
  @apply font-sans text-gray-900 bg-white antialiased transition-colors duration-300;
  @apply dark:text-gray-100 dark:bg-gray-950;
}

/* Prose overrides for dark mode */
.prose {
  @apply max-w-none;
}

.dark .prose {
  --tw-prose-body: theme(--color-gray-300);
  --tw-prose-headings: theme(--color-gray-100);
  --tw-prose-links: theme(--color-gray-100);
  --tw-prose-bold: theme(--color-gray-100);
  --tw-prose-counters: theme(--color-gray-400);
  --tw-prose-bullets: theme(--color-gray-500);
  --tw-prose-hr: theme(--color-gray-700);
  --tw-prose-quotes: theme(--color-gray-300);
  --tw-prose-quote-borders: theme(--color-gray-500);
  --tw-prose-captions: theme(--color-gray-400);
  --tw-prose-code: theme(--color-gray-200);
  --tw-prose-pre-code: theme(--color-gray-200);
  --tw-prose-pre-bg: theme(--color-gray-800);
  --tw-prose-th-borders: theme(--color-gray-600);
  --tw-prose-td-borders: theme(--color-gray-700);
}

/* Link styling */
.prose a {
  @apply text-gray-900 dark:text-gray-100 no-underline font-medium transition-colors;
}

.prose a:hover {
  @apply underline decoration-2 underline-offset-2;
}

/* Code block styling */
.prose pre {
  @apply rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm ring-1 ring-gray-900/5 dark:ring-white/5;
}

.prose code {
  @apply text-sm;
}

.prose :not(pre) > code {
  @apply bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-1.5 py-0.5 rounded text-sm font-mono;
}

.prose :not(pre) > code::before,
.prose :not(pre) > code::after {
  content: "";
}

/* Blockquote styling */
.prose blockquote {
  @apply border-l-4 border-gray-900 dark:border-gray-100 bg-gray-50 dark:bg-gray-900/50 pl-4 py-1 rounded-r-lg;
}

/* Hide MkDocs headerlink permalink symbols, show on hover */
.headerlink {
  @apply opacity-0 ml-1 text-gray-400 dark:text-gray-600 no-underline transition-opacity;
}

*:hover > .headerlink {
  @apply opacity-100;
}
